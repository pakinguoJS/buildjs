/**
 * @author pakinguo
 * @desc 配合下拉菜单选择功能
 */
define(function(require, exports, module){
    var data = require('widget/ivy_region_data/js/region.data.{locale}');

    /**
     * 获取国家、省或州、城市列表
     * @param {string} ccode    国家编码
     * @param {string} pcode    省或州编码
     */
    function getList(ccode, pcode){
        var rs = [],
        _data,
        itm;

        if(ccode && pcode){
            // 获取城市列表
            _data = data[ccode] && data[ccode].s && data[ccode].s[pcode] && data[ccode].s[pcode].s ? data[ccode].s[pcode].s : {};
        }else if(ccode){
            // 获取州、省列表
            _data = data[ccode] ? data[ccode].s : {};
        }else{
            // 获取国家列表
            _data = data;
        }

        for(itm in _data){
            rs.push({
                value: itm,
                name: _data[itm].n
            });
        }
        return rs;
    };

    /**
     * 提供模糊匹配搜索，需要对应的编码
     */
    function search(input, ccode, pcode){

    }

    module.exports = {
        getList: getList,
        search: search
    }
})

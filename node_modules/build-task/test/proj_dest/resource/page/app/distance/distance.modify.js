define("page/app/distance/distance.modify",["lib/cmd/jquery/2.0.3/jquery.js","page/widget/ivy_alert/js/ivy.alert.js","lib/cmd/jquery/validation/1.10.0/jquery.validate.min.js","page/widget/form-control-langname/fc.langname.js"],function(a){var b=a("lib/cmd/jquery/2.0.3/jquery.js"),c=a("page/widget/ivy_alert/js/ivy.alert.js");a("lib/cmd/jquery/validation/1.10.0/jquery.validate.min.js");var d=a("page/widget/form-control-langname/fc.langname.js"),e=new d;e.init("#category",b("#category").children().children(),{add_btn_txt:"Add Category",data:b("#category").attr("data-val")?JSON.parse(b("#category").attr("data-val")):[]});var f=new d;f.init("#minDistance",b("#minDistance").children().children(),{add_btn_txt:"Add Item",data:b("#minDistance").attr("data-val")?JSON.parse(b("#minDistance").attr("data-val")):[]});var g=new d;g.init("#maxDistance",b("#maxDistance").children().children(),{add_btn_txt:"Add Item",data:b("#maxDistance").attr("data-val")?JSON.parse(b("#maxDistance").attr("data-val")):[]}),b("#form").validate({rules:{order:{required:!0},main_order:{required:!0}},errorElement:"span",errorPlacement:function(a,b){b.parent().find('[data-control="form-input-error"]').append(a)},submitHandler:function(a){c("Loading...",{toggle:!0});var d={id:a.id.value,order:a.order.value,main_order:a.main_order.value,category_value:e.getData(),distance_min:f.getData(),distance_max:g.getData()};return""===d.max_distance?void c("Max Distance is required!"):void b.post("/cms/index.php/distance/do_modify",d,function(a){0==a.ret?c(a.msg,function(){location.href="/cms/index.php/distance/index"}):c(a.msg)},"json")}})}),define("page/widget/ivy_alert/js/ivy.alert",["page/widget/ivy_alert/css/ivy.alert.css","page/widget/ivy_alert/template/tpl.ivy.alert.js"],function(a,b,c){function d(a,b){h.find("#ivyAlertMain").text(a),b?null:b={},e(b),clearTimeout(g),b.toggle||(g=setTimeout(function(){f(),"function"==typeof b?b():"function"==typeof b.callback?b.callback():null},"number"==typeof b?b:b.duration?b.duration:i.duration))}function e(a){h.appendTo($("body")),setTimeout(function(){a.top?h.find("#ivyAlertMain").parent().css("top",a.top):h.find("#ivyAlertMain").parent().css("top",i.top),a.useMask?h.find("#ivyAlertMask").show():i.useMask?h.find("#ivyAlertMask").show():h.find("#ivyAlertMask").hide(),h.fadeIn(200)},20)}function f(){h.fadeOut(100,function(){h.detach()})}a("page/widget/ivy_alert/css/ivy.alert.css");var g,h=$(a("page/widget/ivy_alert/template/tpl.ivy.alert.js")),i={duration:1500,top:120,useMask:!0,callback:null};d.config=function(a){$.extend(i,a)},c.exports=d}),define("page/widget/ivy_alert/css/ivy.alert.css",[],function(){seajs.importStyle(".ivy-alert-wrap{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;display:none}.ivy-alert{position:relative;margin:0 auto;min-height:50px;max-width:600px;text-align:center;top:120px}.ivy-alert-mask{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(255,255,255,.5);z-index:1001}.ivy-alert-main{position:relative;display:inline-block;font-size:14px;font-weight:700;color:#42484d;padding:16px 30px;background-color:#fff;border:1px solid #e15c4d;border-radius:3px;box-shadow:1px 1px 3px rgba(0,0,0,.35);z-index:1002}")}),define("page/widget/ivy_alert/template/tpl.ivy.alert",[],'<div class="ivy-alert-wrap">    <div id="ivyAlertMask" class="ivy-alert-mask"></div>    <div class="ivy-alert">        <p id="ivyAlertMain" class="ivy-alert-main"></p>    </div></div>'),define("page/widget/form-control-langname/fc.langname",["./fc.langname.css"],function(a,b,c){function d(){this.view='<ul></ul>                    <div class="input-group">                        <select class="form-control"></select>                        <span class="input-group-btn">                            <button class="btn btn-default" type="button"><span class="glyphicon glyphicon-plus"></span><span>{add_btn_txt}</span></button>                        </span>                    </div>',this.item='<li>                        <div class="input-group">                            <span class="input-group-addon">{txt}</span>                            <input type="text" class="form-control">                        </div>                        <a href="javascript:void(0)" data-rel="fc-langname-remove" data-key="{key}" data-val="{txt}"><span class="glyphicon glyphicon-remove-circle"></span></a>                    </li>',this.config={add_btn_txt:"Add Language Item",data:[]}}a("./fc.langname.css"),d.prototype.init=function(a,b,c){arguments.length<2||($.extend(this.config,c),this.$view=$(this.view.replace("{add_btn_txt}",this.config.add_btn_txt)),this.$select=this.$view.find("select"),this.$btn=this.$view.find("button"),this.$ul=this.$view.eq(0),this.add(),this.remove(),this.select(b),this.initData(this.config.data),"string"==typeof a?a=$(a):null,a.html("").append(this.$view))},d.prototype.add=function(){var a=this;a.$btn.click(function(){var b=a.$select.val(),c=a.$select.find('option[value="'+b+'"]').text();$(a.item.replace(/{key}/g,b).replace(/{txt}/g,c)).appendTo(a.$ul),a.$select.find('option[value="'+b+'"]').remove(),0===a.$select.children().length&&a.$btn.addClass("disabled").attr("disabled","")})},d.prototype.initData=function(a){if(a){for(var b in a)console.log(a[b]),""!==a[b]&&null!==a[b]&&($(this.item.replace(/{key}/g,b).replace(/{txt}/g,b)).appendTo(this.$ul).find("input").val(a[b]),this.$select.find('option[value="'+b+'"]').remove());0===this.$select.children().length&&this.$btn.addClass("disabled").attr("disabled","")}},d.prototype.remove=function(){var a=this;a.$ul.delegate('a[data-rel="fc-langname-remove"]',"click",function(){var b=$(this);$('<option value="'+b.attr("data-key")+'">'+b.attr("data-val")+"</option>").appendTo(a.$select),b.parent().remove(),a.$btn.removeClass("disabled").removeAttr("disabled")})},d.prototype.select=function(a){this.$select.append(a)},d.prototype.getData=function(){var a=[];return this.$ul.children().each(function(){var b=$(this),c=b.find("input").val(),d={};c&&(d[b.find("a").attr("data-key")]=c,a.push(d))}),0===a.length?"":JSON.stringify(a)},c.exports=d}),define("page/widget/form-control-langname/fc.langname.css",[],function(){seajs.importStyle(".form-control-langname ul{width:100%;-webkit-padding-start:0;padding-right:40px}.form-control-langname ul li{position:relative;margin-bottom:8px;list-style:none}.form-control-langname ul li a{display:block;position:absolute;right:-35px;top:0;font-size:2em}")});
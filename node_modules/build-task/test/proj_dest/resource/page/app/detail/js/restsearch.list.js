define("page/app/detail/js/restsearch.list",["lib/cmd/jquery/2.0.3/jquery.js","lib/cmd/jquery/jqueryui/1.11.0/jquery-ui.min.js"],function(a){var b=a("lib/cmd/jquery/2.0.3/jquery.js");a("lib/cmd/jquery/jqueryui/1.11.0/jquery-ui.min.js"),b("#keyword").autocomplete({minLength:0,source:function(a,c){b.ajax({url:"/cms/index.php/ipickweb/keyword_suggest",dataType:"json",data:{keyword:a.term},success:function(a){c(a.data)}})}}).autocomplete("instance")._renderItem=function(a,c){b("#suggest").append(a);var d=0==c.iconurl?"":'<span class="result_icon"><img src="'+c.iconurl+'" alt="" style="width:30px;height:30px;line-height:30px;" /></span>',e='<a href="'+c.search+'">'+d+'</span><span class="result_title">'+c.title+'</span><span class="result_count">'+c.num+"&nbsp;&nbsp;&gt;&gt;</span></a>";return b("<li>").append(e).appendTo(a)},b("#list").delegate('a[data-rel="check"]',"click",function(){var a=b(this);b.getJSON("/cms/index.php/ipickweb/check_item",{cms_id:a.attr("data-cid"),restaurantid:a.attr("data-val"),type:a.attr("data-type")},function(b){0==b.ret?0==a.attr("data-type")?(a.parent().removeClass("list_check_ok").addClass("list_check_no"),a.attr("data-type",1),a.attr("title","未評"),a.children().replaceWith('<icon class="icon_checked_no">≡</icon>')):(a.parent().removeClass("list_check_no").addClass("list_check_ok"),a.attr("data-type",0),a.attr("title","已評過"),a.children().replaceWith('<icon class="icon_checked_ok">✔</icon>')):IVYAlert(b.msg)})}),b("#prev").click(function(){if(+b("#pagingIdx").val()>1){var a=location.href;a=a.replace(/&page=[0-9]+/g,"").replace(/\?page=[0-9]+/g,"?");var c;c=a.indexOf("?")>-1?"&":"?",location.href=a+c+"page="+(+b("#pagingIdx").val()-1)}}),b("#next").click(function(){if(+b("#pagingIdx").val()<+b("#pagingTotal").val()){var a=location.href;a=a.replace(/&page=[0-9]+/g,"").replace(/\?page=[0-9]+/g,"?");var c;c=a.indexOf("?")>-1?"&":"?",location.href=a+c+"page="+(+b("#pagingIdx").val()+1)}}),b("#navBar").css({right:(b(window).width()-980)/2-100-20}),b(window).scroll(function(){b(this).scrollTop()>0?b("#scrollToTop").fadeIn(250):b("#scrollToTop").fadeOut(500)}),b("#scrollToTop").click(function(){b(window).scrollTop(0)})});
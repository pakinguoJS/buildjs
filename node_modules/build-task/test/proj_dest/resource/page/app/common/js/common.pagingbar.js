define("page/app/common/js/common.pagingbar",[],function(a,b,c){var d={_data:{page_size:20,page_num:1,total_page_num:1},init:function(a){"object"==typeof a&&($.extend(d._data,a),d.bindIndexEvt(),d.bindGotoEvt(),d.bindPrevAndNextEvt())},setPageSize:function(a){a=parseInt(a),isNaN(a)||(d._data.page_size=a)},getPageSize:function(){return d._data.page_size},setPageNum:function(a){a=parseInt(a),isNaN(a)||(d._data.page_num=a)},getPageNum:function(){return d._data.page_num},bindIndexEvt:function(){$('a[data-rel="common-paging-idx"]').click(function(){var a=$(this),b=parseInt(a.attr("data-val"));d.gotoPage(b),a.parent().parent().children().removeClass("active"),a.parent().addClass("active")})},bindGotoEvt:function(){var a;$("#common-pagingbar-goto").focus(function(){clearTimeout(a),$(this).next().fadeIn()}).blur(function(){var b=this;a=setTimeout(function(){$(b).next().fadeOut()},500)}).next().click(function(){var a=parseInt($(this).prev().val());d.gotoPage(a)})},bindPrevAndNextEvt:function(){$("#common-pagingbar-prev").click(d.prevPage),$("#common-pagingbar-next").click(d.nextPage)},gotoPage:function(a){a>0&&a<=d._data.total_page_num?location.href=location.search?location.href.replace(location.search,"?"+$.param($.extend({},d._data,{page_num:a}))):location.href+"?"+$.param($.extend({},d._data,{page_num:a})):$("#common-pagingbar-goto").focus()},prevPage:function(){1===d._data.page_num?alert("This is the first page!"):d.gotoPage(d._data.page_num-1)},nextPage:function(){d._data.page_num===d._data.total_page_num?alert("This is the last page!"):d.gotoPage(d._data.page_num+1)}};c.exports=d});
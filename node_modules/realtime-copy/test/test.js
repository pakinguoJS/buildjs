var rtc = require('../lib/realtime-watch.js');

rtc('./proj', [
	{
		src:		'front',
		dist:		'resource',
		ignore:		/view/,
		unfold: 	false,
		view_dist:	'views',
		view_type:	/\.tpl$/
	}
]);
// rtc.delegateAt('./proj/front', './proj/views', /\.tpl$/)

// var FS = require('fs');
// var PATH = require('path');

// function watch(src){
	// var list = FS.readdirSync(src);
	
	// FS.watch(src, function(){
		// console.log('Dir: ' + JSON.stringify(arguments) + '\n');
	// })
	
	// list.forEach(function(name, idx){
		// FS.watch(PATH.join(src, name), function(){
			// console.log('File: ' + JSON.stringify(arguments) + '\n');
		// });
	// })
// }


// function watchSync(src){
	// var list = FS.readdirSync(src);
	
	// FS.watchFile(src, function(){
		// console.log('Dir: ' + src + ' :' + JSON.stringify(arguments) + '\n');
		// unwatchSync(src);
		// watchSync(src);
	// })
	
	// list.forEach(function(name, idx){
		// FS.watchFile(PATH.join(src, name), function(){
			// console.log('File: ' + name + ' :' + JSON.stringify(arguments) + '\n');
		// });
	// })
// }


// function unwatchSync(src){
	// FS.unwatchFile(src);
	// if(!FS.existsSync(src)){
		// return;
	// }
	// var list = FS.readdirSync(src);
	// list.forEach(function(name, idx){
		// var _path = PATH.join(src, name);
		// if(FS.statSync(_path).isDirectory()){
			// unwatchSync(_path);
		// }else{
			// FS.unwatchFile(_path);
		// }
	// })
// }


// watch('./test1');

// watchSync('./test1');
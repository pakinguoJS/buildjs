var i18n = require('i18n-gettext');

var CONFIG;
var l = process.argv.length;

if(l > 2){
	CONFIG = require(process.argv[2]);
}else{
	CONFIG = require('./GETTEXT_CONFIG.json');
}

if(l === 4){
	CONFIG.dist = CONFIG.dist.replace('{lang}', process.argv[3]);
}else if(l === 5){
	CONFIG.i18n = process.argv[3];
	CONFIG.dist = CONFIG.dist.replace('{lang}', process.argv[4]);
}

// 输出翻译后的文件
// 参数分别为：i18n, src, dist, replacestr
// i18n: 		提取并翻译后的po文件
// src:			需要翻译的项目文件夹路径
// dist:		翻译后的项目文件夹路径
// replacestr:	提供替换各种翻译原文本的字符串，比如“***”方便开发人员查找需要翻译以及未标记提取翻译的单词句子
i18n.gettext(CONFIG.i18n, CONFIG.src, CONFIG.dist);
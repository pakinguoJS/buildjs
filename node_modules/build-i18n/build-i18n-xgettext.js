var i18n = require('i18n-gettext');

var CONFIG;
var l = process.argv.length;

if(l > 2){
	CONFIG = require(process.argv[2]);
}else{
	CONFIG = require('./XGETTEXT_CONFIG.json');
}

if(l === 4){
	CONFIG.filename = CONFIG.exist = process.argv[3];
}else if(l === 5){
	CONFIG.filename = process.argv[3];
	CONFIG.exist = process.argv[4];
}

// 提取待翻译的
// 参数分别为：src, dist, filename, exist, type, merge
// src: 		需要提取的项目文件夹路径
// dist:		输出的提取后的文件夹路径
// filename:	输出的提取后的文件路径
// exist:		是否存在已有的已翻译的文件，有则为翻译文件路径
// type:		输出的文件格式（目前仅支持po）
// merge:		是否合并为一个提取文件，默认为true
i18n.xgettext(CONFIG.src, CONFIG.dist, CONFIG.filename, CONFIG.exist);
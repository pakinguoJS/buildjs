var FS = require('fs');
var PATH = require('path');
var release = require('cssmin-transport-uglify');

var lang = process.argv[2];

var CONF = require('D:/web/front/__buildjs/CONFIG.json');
var gruntPath = "D:/Pakinguo_documents/My Github/buildjs/node_modules/gruntjs";

release(PATH.join(CONF.COMPRESSSRC.replace('{lang}', lang)), PATH.join(CONF.COMPRESSEXCLUDE.replace('{lang}', lang)), gruntPath, {
	"jquery": "lib/cmd/jquery/2.0.3/jquery.js",
    "zepto": "lib/cmd/zeptojs/1.1.2/zepto.src.js",
    "quo":  "lib/cmd/quojs/2.3.6/quo.js",
    "swiper": "lib/cmd/swiper/2.7.0/idangerous.swiper.min.js",
    "iscroll": "lib/cmd/iscroll/iscroll.js",
    "iscroll-probe": "lib/cmd/iscroll/iscroll-probe.js",
    "iscroll-infinite": "lib/cmd/iscroll/iscroll-infinite.js",
    "jweixin": "lib/cmd/jweixin/1.0.0/jweixin.js",
    "ipick-sdk": "lib/cmd/ipick-sdk/ipick.sdk.js",

    "ipick.alert": "widget/ipick.alert/ipick.alert.js",
    "ipick.confirm": "widget/ipick.confirm/ipick.confirm.js",
    "ipick.datepicker": "widget/ipick.datepicker/ipick.datepicker.js",
    "ipick.popup": "widget/ipick.popup/popup.js",
    "ipick.adapt-img": "widget/ipick.adapt-img/adapt-img.js",
    "ipick.call-phone": "widget/ipick.call-phone/call.phone.js"
});